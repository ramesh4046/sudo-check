# -*- mode: conf -*-
# sudoers files - managed with chef

Host_Alias DNS_SERVERS = lb0, lb1
Host_Alias QUEUE_SERVERS = queue0, queue1
Host_Alias ALLOW_TECH_SU_SERVERS = jobs

User_Alias TECH = icorbett, lev, brandon, wayne, arnaud
User_Alias HADOOP = nathanh, evan, osheim, jmarcus, bgruber, aashish, doug, danjw

Cmnd_Alias SU = /bin/su

Cmnd_Alias SHELLS = /bin/ash, /bin/csh, /bin/sh, /usr/bin/es, /usr/bin/ksh, /bin/ksh, \
                    /usr/bin/rc, /usr/bin/zsh, /bin/sash, /bin/zsh, /usr/bin/esh, \
                    /usr/bin/screen, /bin/bash, /bin/rbash, /bin/dash

root ALL = (ALL) ALL
bb ALL = (root) NOPASSWD: /sbin/tw_cli, /usr/bin/qshape.pl, /usr/local/meetup/tools/jython, /usr/sbin/ipmitool, /usr/sbin/pmta
bb ALL = (rabbitmq) NOPASSWD: /usr/local/rabbitmq-server/sbin/rabbitmqctl

cacti ALL = (root) NOPASSWD: /usr/local/ipvsadm/ipvsadm

%tech DNS_SERVERS = (root) NOPASSWD: /usr/sbin/rndc, /etc/init.d/named
%tech ALLOW_TECH_SU_SERVERS = (root) NOPASSWD: /bin/su

TECH ALL=(ALL) NOPASSWD: ALL, !SU, !SHELLS
%tech ALL = (ALL) NOPASSWD: /bin/su - meetcvs
HADOOP ALL = (ALL) NOPASSWD: /bin/su - hadoop
%hadoop ALL = (ALL) NOPASSWD: /bin/su - hadoop

Defaults:qing env_keep+="HOME LS_COLORS"
qing ALL=(ALL) NOPASSWD: ALL
icorbett ALL=(ALL) NOPASSWD: ALL
wayne ALL=(ALL) NOPASSWD: ALL
brandon ALL=(ALL) NOPASSWD: ALL
arnaud ALL=(ALL) NOPASSWD: ALL
